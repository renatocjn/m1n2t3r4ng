<%
if defined? monitored_service
  @monitored_service = monitored_service
end
%>

<%= simple_form_for @monitored_service do |f| %>
  <%= f.error_notification %>
  
  <% if f.object.errors[:base].any? %>
    <div class="alert alert-warning">
      <% f.object.errors[:base].each do |m| %>
        <%= m %>
      <% end %>
    </div>
  <% end %>
  
  <div class="form-inputs">
    <%= f.input :name, label: "Nome do serviço" %>
    <div class="row">
      <div class="col">
        <%= f.association :device, label: "Nome do dispositivo" %>
        <%= f.input :service_type, label: "Tipo de serviço", as: :select, collection: MonitoredService.service_types.keys %>
      </div>
      <div class="col">
        <%= f.input :force_create, label: "Pular verificação inicial?", as: :select, collection: {"Sim" => true, "Não" => false}, include_blank: false %>
        <%= f.input :port, label: "Porta de rede" %>
      </div>
    </div>
    <%= f.input :description, label: "Descrição longa" %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Salvar", id: "start_monitoring_bttn", class: "btn btn-block btn-primary", data: {"disable-with" => "Enviando..."} %>
  </div>
<% end %>
